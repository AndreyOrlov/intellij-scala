class A{
List.flatten(
  List(settings.outdir, settings.classpath, settings.bootclasspath,
       settings.extdirs, settings.encoding) map (s => List(s.nme, s.value))) :::
// '-server' option
(if (serverAddr.isEmpty) Nil else List("-server", serverAddr.get)) :::
// ChoiceSetting
(List(settings.debuginfo, settings.target) map (s => s.nme + ":" + s.value)) :::
// BooleanSetting
trim(
  List(settings.debug, settings.deprecation, settings.nopredefs,
       settings.verbose, reset, shutdown) map (s => if (s.value) s.nme else "")) :::
// PhaseSetting
trim(
  List(settings.log) map (s => if (s.value.isEmpty) "" else s.nme + ":" + s.value))
}
-----
Scala file
  type template definition: class
    PsiElement(class)('class')
    PsiWhiteSpace(' ')
    PsiElement(identifier)('A')
    template body
      PsiElement({)('{')
      PsiWhiteSpace('\n')
      Infix expression
        Method call
          Property selection
            Reference expression
              Reference expression
                PsiElement(identifier)('List')
            PsiElement(.)('.')
            PsiElement(identifier)('flatten')
          Argument expressions
            PsiElement(()('(')
            PsiWhiteSpace('\n  ')
            Infix expression
              Method call
                Reference expression
                  Reference expression
                    PsiElement(identifier)('List')
                Argument expressions
                  PsiElement(()('(')
                  Property selection
                    Reference expression
                      Reference expression
                        PsiElement(identifier)('settings')
                    PsiElement(.)('.')
                    PsiElement(identifier)('outdir')
                  PsiElement(,)(',')
                  PsiWhiteSpace(' ')
                  Property selection
                    Reference expression
                      Reference expression
                        PsiElement(identifier)('settings')
                    PsiElement(.)('.')
                    PsiElement(identifier)('classpath')
                  PsiElement(,)(',')
                  PsiWhiteSpace(' ')
                  Property selection
                    Reference expression
                      Reference expression
                        PsiElement(identifier)('settings')
                    PsiElement(.)('.')
                    PsiElement(identifier)('bootclasspath')
                  PsiElement(,)(',')
                  PsiWhiteSpace('\n       ')
                  Property selection
                    Reference expression
                      Reference expression
                        PsiElement(identifier)('settings')
                    PsiElement(.)('.')
                    PsiElement(identifier)('extdirs')
                  PsiElement(,)(',')
                  PsiWhiteSpace(' ')
                  Property selection
                    Reference expression
                      Reference expression
                        PsiElement(identifier)('settings')
                    PsiElement(.)('.')
                    PsiElement(identifier)('encoding')
                  PsiElement())(')')
              PsiWhiteSpace(' ')
              PsiElement(identifier)('map')
              PsiWhiteSpace(' ')
              PsiElement(()('(')
              Anonymous function
                PsiElement(identifier)('s')
                PsiWhiteSpace(' ')
                PsiElement(=>)('=>')
                PsiWhiteSpace(' ')
                Method call
                  Reference expression
                    Reference expression
                      PsiElement(identifier)('List')
                  Argument expressions
                    PsiElement(()('(')
                    Property selection
                      Reference expression
                        Reference expression
                          PsiElement(identifier)('s')
                      PsiElement(.)('.')
                      PsiElement(identifier)('nme')
                    PsiElement(,)(',')
                    PsiWhiteSpace(' ')
                    Property selection
                      Reference expression
                        Reference expression
                          PsiElement(identifier)('s')
                      PsiElement(.)('.')
                      PsiElement(identifier)('value')
                    PsiElement())(')')
              PsiElement())(')')
            PsiElement())(')')
        PsiWhiteSpace(' ')
        PsiElement(identifier)(':::')
        PsiElement(newline)('\n')
        PsiComment(comment)('// '-server' option')
        PsiWhiteSpace('\n')
        Infix expression
          PsiElement(()('(')
          IF statement
            PsiElement(if)('if')
            PsiWhiteSpace(' ')
            PsiElement(()('(')
            Property selection
              Reference expression
                Reference expression
                  PsiElement(identifier)('serverAddr')
              PsiElement(.)('.')
              PsiElement(identifier)('isEmpty')
            PsiElement())(')')
            PsiWhiteSpace(' ')
            Reference expression
              PsiElement(identifier)('Nil')
            PsiWhiteSpace(' ')
            PsiElement(else)('else')
            PsiWhiteSpace(' ')
            Method call
              Reference expression
                Reference expression
                  PsiElement(identifier)('List')
              Argument expressions
                PsiElement(()('(')
                Literal
                  PsiElement(string content)('"-server"')
                PsiElement(,)(',')
                PsiWhiteSpace(' ')
                Property selection
                  Reference expression
                    Reference expression
                      PsiElement(identifier)('serverAddr')
                  PsiElement(.)('.')
                  PsiElement(identifier)('get')
                PsiElement())(')')
          PsiElement())(')')
          PsiWhiteSpace(' ')
          PsiElement(identifier)(':::')
          Infix expression
            PsiElement(newline)('\n')
            PsiComment(comment)('// ChoiceSetting')
            PsiWhiteSpace('\n')
            PsiElement(()('(')
            Infix expression
              Method call
                Reference expression
                  Reference expression
                    PsiElement(identifier)('List')
                Argument expressions
                  PsiElement(()('(')
                  Property selection
                    Reference expression
                      Reference expression
                        PsiElement(identifier)('settings')
                    PsiElement(.)('.')
                    PsiElement(identifier)('debuginfo')
                  PsiElement(,)(',')
                  PsiWhiteSpace(' ')
                  Property selection
                    Reference expression
                      Reference expression
                        PsiElement(identifier)('settings')
                    PsiElement(.)('.')
                    PsiElement(identifier)('target')
                  PsiElement())(')')
              PsiWhiteSpace(' ')
              PsiElement(identifier)('map')
              PsiWhiteSpace(' ')
              PsiElement(()('(')
              Anonymous function
                PsiElement(identifier)('s')
                PsiWhiteSpace(' ')
                PsiElement(=>)('=>')
                PsiWhiteSpace(' ')
                Infix expression
                  Infix expression
                    Property selection
                      Reference expression
                        Reference expression
                          PsiElement(identifier)('s')
                      PsiElement(.)('.')
                      PsiElement(identifier)('nme')
                    PsiWhiteSpace(' ')
                    PsiElement(identifier)('+')
                    PsiWhiteSpace(' ')
                    Literal
                      PsiElement(string content)('":"')
                  PsiWhiteSpace(' ')
                  PsiElement(identifier)('+')
                  PsiWhiteSpace(' ')
                  Property selection
                    Reference expression
                      Reference expression
                        PsiElement(identifier)('s')
                    PsiElement(.)('.')
                    PsiElement(identifier)('value')
              PsiElement())(')')
            PsiElement())(')')
            PsiWhiteSpace(' ')
            PsiElement(identifier)(':::')
            Infix expression
              PsiElement(newline)('\n')
              PsiComment(comment)('// BooleanSetting')
              PsiWhiteSpace('\n')
              Method call
                Reference expression
                  Reference expression
                    PsiElement(identifier)('trim')
                Argument expressions
                  PsiElement(()('(')
                  PsiWhiteSpace('\n  ')
                  Infix expression
                    Method call
                      Reference expression
                        Reference expression
                          PsiElement(identifier)('List')
                      Argument expressions
                        PsiElement(()('(')
                        Property selection
                          Reference expression
                            Reference expression
                              PsiElement(identifier)('settings')
                          PsiElement(.)('.')
                          PsiElement(identifier)('debug')
                        PsiElement(,)(',')
                        PsiWhiteSpace(' ')
                        Property selection
                          Reference expression
                            Reference expression
                              PsiElement(identifier)('settings')
                          PsiElement(.)('.')
                          PsiElement(identifier)('deprecation')
                        PsiElement(,)(',')
                        PsiWhiteSpace(' ')
                        Property selection
                          Reference expression
                            Reference expression
                              PsiElement(identifier)('settings')
                          PsiElement(.)('.')
                          PsiElement(identifier)('nopredefs')
                        PsiElement(,)(',')
                        PsiWhiteSpace('\n       ')
                        Property selection
                          Reference expression
                            Reference expression
                              PsiElement(identifier)('settings')
                          PsiElement(.)('.')
                          PsiElement(identifier)('verbose')
                        PsiElement(,)(',')
                        PsiWhiteSpace(' ')
                        Reference expression
                          PsiElement(identifier)('reset')
                        PsiElement(,)(',')
                        PsiWhiteSpace(' ')
                        Reference expression
                          PsiElement(identifier)('shutdown')
                        PsiElement())(')')
                    PsiWhiteSpace(' ')
                    PsiElement(identifier)('map')
                    PsiWhiteSpace(' ')
                    PsiElement(()('(')
                    Anonymous function
                      PsiElement(identifier)('s')
                      PsiWhiteSpace(' ')
                      PsiElement(=>)('=>')
                      PsiWhiteSpace(' ')
                      IF statement
                        PsiElement(if)('if')
                        PsiWhiteSpace(' ')
                        PsiElement(()('(')
                        Property selection
                          Reference expression
                            Reference expression
                              PsiElement(identifier)('s')
                          PsiElement(.)('.')
                          PsiElement(identifier)('value')
                        PsiElement())(')')
                        PsiWhiteSpace(' ')
                        Property selection
                          Reference expression
                            Reference expression
                              PsiElement(identifier)('s')
                          PsiElement(.)('.')
                          PsiElement(identifier)('nme')
                        PsiWhiteSpace(' ')
                        PsiElement(else)('else')
                        PsiWhiteSpace(' ')
                        Literal
                          PsiElement(string content)('""')
                    PsiElement())(')')
                  PsiElement())(')')
              PsiWhiteSpace(' ')
              PsiElement(identifier)(':::')
              PsiElement(newline)('\n')
              PsiComment(comment)('// PhaseSetting')
              PsiWhiteSpace('\n')
              Method call
                Reference expression
                  Reference expression
                    PsiElement(identifier)('trim')
                Argument expressions
                  PsiElement(()('(')
                  PsiWhiteSpace('\n  ')
                  Infix expression
                    Method call
                      Reference expression
                        Reference expression
                          PsiElement(identifier)('List')
                      Argument expressions
                        PsiElement(()('(')
                        Property selection
                          Reference expression
                            Reference expression
                              PsiElement(identifier)('settings')
                          PsiElement(.)('.')
                          PsiElement(identifier)('log')
                        PsiElement())(')')
                    PsiWhiteSpace(' ')
                    PsiElement(identifier)('map')
                    PsiWhiteSpace(' ')
                    PsiElement(()('(')
                    Anonymous function
                      PsiElement(identifier)('s')
                      PsiWhiteSpace(' ')
                      PsiElement(=>)('=>')
                      PsiWhiteSpace(' ')
                      IF statement
                        PsiElement(if)('if')
                        PsiWhiteSpace(' ')
                        PsiElement(()('(')
                        Property selection
                          Property selection
                            Reference expression
                              Reference expression
                                PsiElement(identifier)('s')
                            PsiElement(.)('.')
                            PsiElement(identifier)('value')
                          PsiElement(.)('.')
                          PsiElement(identifier)('isEmpty')
                        PsiElement())(')')
                        PsiWhiteSpace(' ')
                        Literal
                          PsiElement(string content)('""')
                        PsiWhiteSpace(' ')
                        PsiElement(else)('else')
                        PsiWhiteSpace(' ')
                        Infix expression
                          Infix expression
                            Property selection
                              Reference expression
                                Reference expression
                                  PsiElement(identifier)('s')
                              PsiElement(.)('.')
                              PsiElement(identifier)('nme')
                            PsiWhiteSpace(' ')
                            PsiElement(identifier)('+')
                            PsiWhiteSpace(' ')
                            Literal
                              PsiElement(string content)('":"')
                          PsiWhiteSpace(' ')
                          PsiElement(identifier)('+')
                          PsiWhiteSpace(' ')
                          Property selection
                            Reference expression
                              Reference expression
                                PsiElement(identifier)('s')
                            PsiElement(.)('.')
                            PsiElement(identifier)('value')
                    PsiElement())(')')
                  PsiElement())(')')
      PsiWhiteSpace('\n')
      PsiElement(})('}')